<div class="mobileContainer initiateJourney">
  <h2 class="text-center mainHeadSection">Initiate Journey</h2>


  <form #form="ngForm" (ngSubmit)="submitJourney()">
    <div class="mobileContainer initiateJourney">
      <ul class="collapsible expandable">
        <!--start Journey Details Section-->
        <li class="active">
          <div class="collapsible-header">
            <p>Joureny Details</p>
            <img src="../../assets/images/Jms_assets/ic_right_arrow.svg">
          </div>
          <div class="collapsible-body">
            <div class="input-group mainInputComp">
              <!-- Journey Title -->
              <input type="text" class="form-control" placeholder="Title" name="title" [(ngModel)]="journey.title">
            </div>
            <div class="input-group mainInputComp">
              <!-- From Distination -->
              <input type="text" class="form-control" placeholder="Journey From" autocorrect="off" autocapitalize="off"
                spellcheck="false" name="fromDestination" #fromDestinationInput [(ngModel)]="journey.fromDestination">
              <div class="input-group-prepend">
                <span class="input-group-text">
                  <img src="../../assets/images/Jms_assets/ic_pin.svg">
                </span>
              </div>
            </div>

            <div class="input-group mainInputComp">
              <!-- To Distination -->
              <input type="text" class="form-control" placeholder="Journey To" autocorrect="off" autocapitalize="off"
                spellcheck="false" name="toDestination" #toDestinationInput [(ngModel)]="journey.toDestination">
              <div class="input-group-prepend">
                <span class="input-group-text">
                  <img src="../../assets/images/Jms_assets/ic_pin.svg">
                </span>
              </div>
            </div>

            <section class="initiateJourneyMap">
              <!-- Map -->
              <div class="map" style="height: 400px;">

                <!--<agm-map [latitude]="userLocation.lat" [longitude]="userLocation.lng">
                  <agm-marker [latitude]="userLocation.lat" [longitude]="userLocation.lng"></agm-marker>
                  <agm-direction [origin]="start"
                                 [travelMode]="'DRIVING'"
                                 [destination]="end"
                                 [renderOptions]="renderOptions"
                                 (onChange)="change($event)"
                                 [visible]="true"
                                 [provideRouteAlternatives]="true">
                  </agm-direction>
                </agm-map>-->
                <agm-map [latitude]="lat" [longitude]="lng">
                  <div *ngIf="origin && destination">
                    <agm-direction [origin]="origin" [destination]="destination" [waypoints]="waypoints">
                    </agm-direction>
                  </div>
                </agm-map>
              </div>

              <div class="autoCompLocations">
                <h4 class="text-center mainHeadSection">Checkpoints</h4>
                <div class="input-group">
                  <input type="text" class="form-control" placeholder="Enter Checkpoint Address" autocorrect="off"
                    autocapitalize="off" spellcheck="false" name="checkpointAddress" #checkpointAddressInput
                    [(ngModel)]="selectedCheckpoint.name">
                  <div class="input-group-prepend">
                    <span class="input-group-text">
                      <img src="../../assets/images/Jms_assets/ic_pin.svg">
                    </span>
                  </div>
                </div>
                <div cdkDropList *ngIf="checkpoints.length>0" #todoList="cdkDropList" [cdkDropListData]="checkpoints"
                  [cdkDropListConnectedTo]="[doneList]" class="example-list" (cdkDropListDropped)="drop($event)">
                  <span *ngIf="checkpoints.length>1">Drag and Drop to Reorder</span>
                  <div class="example-box" *ngFor="let checkpoint of checkpoints" cdkDrag>{{checkpoint.name}} <a
                      (click)="deleteCheckpoint(checkpoint.id)" href="javascript:void(0);">X</a></div>
                </div>
              </div>
            </section>

            <div class="input-group mainInputComp">
              <input type="text" bsDatepicker class="form-control" placeholder="Delivery Date" name="deliveryDate"
                [(ngModel)]="journey.deliveryDate">
              <div class="input-group-prepend">
                <span class="input-group-text">
                  <img src="../../assets/images/Jms_assets/ic_calendar.svg">
                </span>
              </div>
            </div>

            <!-- Transport Type -->
            <div class="radioButtonsGroup">
              <p>Transport Type :</p>
              <div class="radioButtonsGroupCon">
                <div>
                  <label>
                    <input type="radio" [value]="true" name="isTruckTransport" [(ngModel)]="journey.isTruckTransport" />
                    <span>Trucks & Goods</span>
                  </label>
                </div>
                <div>
                  <label>
                    <input type="radio" [value]="false" name="isTruckTransport"
                      [(ngModel)]="journey.isTruckTransport" />
                    <span>People</span>
                  </label>
                </div>
              </div>
            </div>

            <!-- Is Third Party -->
            <div class="radioButtonsGroup">
              <p>Is It Company Vehicle?</p>
              <div class="radioButtonsGroupCon">
                <div>
                  <label>
                    <input type="radio" [value]="false" name="isThirdParty" [(ngModel)]="journey.isThirdParty" />
                    <span>Yes</span>
                  </label>
                </div>
                <div>
                  <label>
                    <input type="radio" [value]="true" name="isThirdParty" [(ngModel)]="journey.isThirdParty" />
                    <span>No</span>
                  </label>
                </div>
              </div>
            </div>

            <!--DispatcherId-->
            <div class="input-group mainInputComp" *ngIf="journey.isThirdParty">
              <p>Dispatcher</p>
              <select class="custom-select d-block w-100" id="drpCustomers" name="drpCustomers"
                [(ngModel)]="selectedCustomer">
                <option value="" selected disabled>Select Customer</option>
                <option *ngFor="let customer of customers" [value]="customer.id">
                  {{customer.name}}
                </option>
              </select>
            </div>

          </div>
        </li>
        <!--end Journey Details Section-->
        <!--start Cargo Details Section-->
        <li class="active">
          <div class="collapsible-header">
            <p>Cargo Details</p>
            <img src="../../../assets/images/Jms_assets/ic_right_arrow.svg">
          </div>
          <div class="collapsible-body">
            <div class="input-group mainInputComp">
              <input type="text" class="form-control" placeholder="Type" aria-label="Type" name="cargoType"
                [(ngModel)]="journey.cargoType">
            </div>
            <div class="input-group mainInputComp">
              <input type="text" class="form-control" placeholder="Weight" aria-label="Weight" name="cargoWeight"
                [(ngModel)]="journey.cargoWeight">
            </div>

            <div class="radioButtonsGroup">
              <p>Priority Degree :</p>

              <div class="radioButtonsGroupCon">
                <div>
                  <label>
                    <input [value]="0" type="radio" name="cargoPriority" [(ngModel)]="journey.cargoPriority" />
                    <span>Low</span>
                  </label>
                </div>
                <div>
                  <label>
                    <input [value]="1" type="radio" name="cargoPriority" [(ngModel)]="journey.cargoPriority" />
                    <span>Medium</span>
                  </label>
                </div>
                <div>
                  <label>
                    <input [value]="2" type="radio" name="cargoPriority" [(ngModel)]="journey.cargoPriority" />
                    <span>High</span>
                  </label>
                </div>
              </div>
            </div>

            <div class="radioButtonsGroup">
              <p>Severity Degree :</p>
              <div class="radioButtonsGroupCon">
                <div>
                  <label>
                    <input [value]="0" type="radio" name="cargoSeverity" [(ngModel)]="journey.cargoSeverity" />
                    <span>Low</span>
                  </label>
                </div>
                <div>
                  <label>
                    <input [value]="1" type="radio" name="cargoSeverity" [(ngModel)]="journey.cargoSeverity" />
                    <span>Medium</span>
                  </label>
                </div>
                <div>
                  <label>
                    <input [value]="2" type="radio" name="cargoSeverity" [(ngModel)]="journey.cargoSeverity" />
                    <span>HIgh</span>
                  </label>
                </div>
              </div>
            </div>
          </div>
        </li>
        <!--end Cargo Details Section-->
        <!--start Inspection Checklist Section-->
        <!--end Inspection Checklist Section-->
        <!--start Journey Assessment Section-->

        <li class="active">

          <div class="collapsible-header">
            <p>Add Journey Assessment</p>
            <img src="../../assets/images/Jms_assets/ic_right_arrow.svg">
          </div>
          <div class="collapsible-body">
            <div class="addAssessment">
              <ul *ngFor="let question of questions">
                <li>{{question}}</li>
              </ul>
              <div class="input-group mainInputComp">
                <input #addQuestion type="text" class="form-control" placeholder="Add Question">
              </div>
            </div>
            <div (click)="submitQuestion()" class="submitAssessment text-center">
              <img src="../../assets/images/Jms_assets/ic_plus.svg">
              <span>Add more assessment</span>
            </div>
          </div>

        </li>
        <!--end Journey Assessment Section-->
        <!--start Journey Assessment Section-->
        <!-- <li class="active">
            <div class="collapsible-header">
                <p>Add Vehicle Assessment</p>
                <img src="../../assets/images/Jms_assets/ic_right_arrow.svg">
            </div>
            <div class="collapsible-body">
                <div class="addAssessment">
                    <div class="row">
                        <div class="col-9 questionCont">
                            <div class="question">
                                is the cargo & lifting equipment / gears in good condition
                            </div>
                        </div>
                        <div class="col-3">
                            <ul class="actions">
                                <li>
                                    <img src="../../assets/images/Jms_assets/ic_search.svg">
                                </li>
                                <li>
                                    <img src="../../assets/images/assets_icons/ic_pin.svg">
                                </li>
                            </ul>

                        </div>
                    </div>
                </div>
                <div class="addAssessment">
                    <div class="row">
                        <div class="col-9 questionCont">
                            <div class="question">
                                is the cargo & lifting equipment / gears in good condition
                            </div>
                        </div>
                        <div class="col-3">
                            <ul class="actions">
                                <li>
                                    <img src="../../assets/images/Jms_assets/ic_search.svg">
                                </li>
                                <li>
                                    <img src="../../assets/images/assets_icons/ic_pin.svg">
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <button class="submitAssessment">
                    <img src="../../assets/images/Jms_assets/ic_plus.svg">
                    <span>Add more assessment</span>
                </button>
            </div>
        </li> -->
        <!--end Journey Assessment Section-->

      </ul>
      <button (click)="submitJourney" class="sumbitToInitiate">
        Submit Journey
      </button>

    </div>

  </form>

</div>